---
layout: post
title: Git 命令无需记忆
category: CheatSheet
tags: [Git, GitHub]
latest: 2015年09月01日 10:46:04
---


- **邮箱和密码**

```
git config --global user.email "lamchuanjiang@gmail.com"

git config --global user.name "lamChuanJiang"   
```

需要注意的是，如果以前全局配置后，再次执行该操作会覆盖原用户名。

- __SSH key__


```
ssh-keygen -t rsa -C "lamchuanjiang@gmail.com"
```

一直回车，成功的话会在 ~/ 下生成 .ssh 文件夹，进去，打开 id_rsa.pub，复制里面的 key，然后进入 GitHub 的 Account Settings，选择 SSH Keys -> Add SSH Key，粘贴在你电脑上生成的 key。（title 随便填）

验证是否成功：

```
$ ssh -T git@github.com

Hi tianqixin! You've successfully authenticated, but GitHub does not provide shell access.
```

- **添加远程仓库地址和推送到远程仓库**

```
git remote add origin git@github.com:lamChuanJiang/blog.git

git push -u origin master
```

`origin` 是为远程仓库地址起的别名。

`-u` 只在第一次推送时使用，作用是把本地的 master 分支和远程的 master 分支关联起来，之后的推送不再需要这个参数。

- **为远程仓库起别名**

```
# 移除现有分支别名
git remote rm origin
# 为远程仓库地址重新起别名
git remote add lcj	 git@github.com:lamChuanJiang/lamchuanjiang.git
```

- **切换分支**

```
git checkout --orphan gh-pages
```

- 将 .gitignore.txt 修改为 .gitignore 时提示 "必须键入文件名" 怎么办？

```
rename .gitignore.txt .gitignore
```

- **Git 移除已经 add 的文件**

```
git rm --cached "文件路径"      # 不删除物理文件，仅将该文件从缓存中删除
git rm --f "文件路径"    # 不仅将该文件从缓存中删除，还会将物理文件删除（不会回收到垃圾桶）
```

- **回滚至某次 Commit**

```
git reset --hard  需要回退的那次 commit 的哈希值
```

每次 commit 的哈希值可以通过 `git log` 命令查看

上述命令执行成功之后，会彻底返回到回退到的版本状态，新发生的变更将会丢失。
对于部分发生了变更，但是变更部分的文件夹存在未提交的文件可能导致目录非空而删除失败，此时需要自行处置

完成之后，使用 –force 或 -f 参数强制 push

```
git push origin HEAD --force
```

	- `HEAD` 最近一个提交。

	- `HEAD^` 上一次。
